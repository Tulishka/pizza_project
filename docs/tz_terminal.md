# ТЗ Конструктор пиццы

## Общее описание

Приложение для терминала самообслуживания в пиццерии. Позволяет сделать заказ пиццы по индивидуальному дизайну.

### Функции

1. Терминал отображает заставку на которой сменяются различные изображения пиццы, а так же есть большая кнопка "создай
   пиццу мечты".
2. При нажатии на кнопку, открывается редактор пиццы.
3. Можно выбрать основу пиццы, ее размер, добавить ингредиенты и различные услуги.
4. Например, услугу, которая позволяет расположить ингредиенты произвольным образом.
5. На всем протяжении создания пиццы покупатель видит состав, итоговый вес, стоимость и примерное время приготовления
   пиццы.
6. Покупатель переходит к оформлению заказа нажимая кнопку "Заказать"
7. На экране заказа, производится оплата и отображается номер заказа.
8. Заказ сохраняется в БД данных.
9. Изображение пиццы сохраняется в файл.

## Детальное описание

Приложение состоит из нескольких экранов: 

[Интерфейс пользователя (figma)](https://www.figma.com/design/GnL1HHSoZgVWraLhC70lMX/pizza_designer?node-id=0-1&t=3cG2pVHnpJpBUBtz-1)

### Экран приветствия
* На экране отображается картинка - изображение пиццы, которая время от времени переключается на различные варианты
* На экране есть кнопка "Создать пиццу мечты", при её нажатии переход на следующий экран - "Выбор основы"

### Выбор основы пиццы
Форма нужна, что бы выбрать основу пиццы: вид теста, размер и соус.

На экране 3 переключателя:
* Вид теста: "Традиционное", "Тонкое тесто"
* Размер пиццы: "25 см.", "30 см.", "35 см.", "40 см."
* Соус: "Томатный", "Сливочный"

Есть кнопка "ок" изначально заблокирована, разблокируется если все параметры заполнены, после нажатия которой переходит к экрану "Конструктор пиццы"

### Конструктор пиццы
Основной экран создания пиццы, на котором пользователь добавляет ингредиенты на пиццу и выстраивает их по желанию на основе. Так же ингредиенты могут размещаться на пицце автоматически (для каждого ингредиента задаётся [алгоритм размещения]()). 

Элементы экрана:
* Кнопка назад, появляется диалог подтверждения отмены заказа. При подтверждении сбросится текущий прогресс, экран вернётся на предыдущий ("Выбор основы пиццы") 
* Поле с основой пиццы
* Панель с информацией:
  * Список добавленных ингредиентов (картинка, название, цена, кнопка удаления данного ингредиента, кнопка для изменения позиции ингредиентов на пицце)
  * Кнопка добавить новый ингредиент, при её нажатии открывается диалоговое окно "Добавление ингредиента шаг 1"
  * Информация о том, сколько ещё ингредиентов можно добавить
  * Примерное время готовки
  * Текущая цена
  * Кнопка заказать, при её нажатии открывается экран: "Экран оплаты"

### Добавление ингредиента шаг 1
Элементы диалога:
* вкладки типов ингредиентов: овощи, мясо, сыр
* Список ингредиентов название и цена
* Когда ингредиент выбран открывается диалоговое окно "Добавление ингредиента шаг 2"

### Добавление ингредиента шаг 2
Элементы диалога:
* Картинка выбранного ингредиента и его название
* Возможность выбора размера порции: "Стандартная", "Большая". Для каждого ингредиента определена ед. измерения и количество в стандартной порции
* Размещение ингредиента на пицце автоматическое, но при желании на экране "Конструктор пиццы" можно расположить ингредиенты самостоятельно.
* Кнопка "ОК" изначально заблокирована, разблокируется если все параметры заполнены, при её нажатии переходит к экрану "Конструктор пиццы".


### Ожидание оплаты
Элементы экрана:
* Кнопка "Отмена", после подтверждения прерывает операцию оплаты и возвращает на предыдущий экран ("Конструктор пиццы")
* Текст: "Следуйте указаниям на терминале оплаты"
* По завершении оплаты экран переключается на "Итоговый экран"

### Итоговый экран 
Элементы экрана:
* Текст: "Спасибо за заказ! Наши повара уже трудятся над вашим шедевром"
* Номер заказа
* Кнопка Завершить, при её нажатии экран переключается на "Экран приветствия"
* Если кнопка завершить не была нажата, то через 20 секунд экран автоматически переключается на "Экран приветствия"


### Дополнительные функции
* На всех экранах работает таймер "бездействия" (40 сек), если пользователь бездействует 40 сек, то выводится вопрос, нужно ли еще время пользователю и идет отсчет времени, если он не ответит в течении 20 сек. Сеанс создания пиццы завершается. Приложение переходит на экран "Приветствие"

## База данных
В качестве базы данных используется **SQLite**.
* Ингредиенты хранятся в таблице "Ingredients"
* Заказ сохраняется в таблицах: 
  * "Orders"
  * "OrdersIngredients"

## Файлы
После оформления заказа, файл с изображением пиццы сохраняется в папку "OrdersImages"
